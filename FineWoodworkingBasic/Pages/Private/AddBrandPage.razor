@page "/addBrand"
@*Imports*@
@using FineWoodworkingBasic.Service
@using FineWoodworkingBasic.Model
@using System.ComponentModel.DataAnnotations
@*Dependencies*@
@inject AddBrandService svc
@inject AllStateInfoService FullState


@*Form for Adding a Brand*@
<EditForm Model="model" OnValidSubmit="OnValidSubmit">
<DataAnnotationsValidator/>
    <MudCard>

        @*Form Contents*@
        <MudCardContent>
            <MudText Align="Align.Center" Typo="Typo.h5" >Add a Brand</MudText>
            <MudDivider DividerType="DividerType.Middle" Light="true" />
            <br />

            <MudTextField T="string" Label="Brand name"  Clearable="true" Counter="50" Immediate="true" Variant="Variant.Text"
                @bind-Value="model.Name" Validation="@(new Func<string, IEnumerable<string>>(MaxFiftyCharacters))"/>
            <MudTextField T="string" Label="Notes" Clearable="true" Counter="2000" Immediate="true" Variant="Variant.Text" AutoGrow="true"
                @bind-Value="model.Notes" Validation="@(new Func<string, IEnumerable<string>>(MaxTwoThouCharacters))"/>
                    
        </MudCardContent>

        @*Form Action Bar*@
        <MudCardActions>
            @*Clear Button*@
            <MudButton Variant="Variant.Filled" Color="Color.Secondary" DisableElevation="true" OnClick="ClearAll"
            Class="mr-3 ml-2">
                @if (spin)
                {
                    <MudProgressLinear Color="Color.Primary" Indeterminate="true" />
                }
                else
                {
                    <MudText>Clear</MudText>
                }
            </MudButton>

            @*Submit Button with loading *@
            <MudButton ButtonType="ButtonType.Submit" DisableElevation="true" Variant="Variant.Filled" Color="Color.Primary">
            @if (spin)
            {
                <MudProgressLinear Color="Color.Primary" Indeterminate="true" />
            }
            else
            {
                <MudText>Add</MudText>
            }
            </MudButton>
        </MudCardActions>
    </MudCard>
</EditForm>

@*Status Message*@
<MudText Color="msgColor">@addBrandMessage</MudText>